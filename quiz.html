<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz App</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" >
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" >
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js" >
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" >
  

  <style>
    body {
      background-color: #f8f9fa;
    }

    .container {
      max-width: 600px;
      margin: 50px auto;
    }

    #quiz-container {
      display: none;
    }



    body{
    background-color:#eee;
}

label.radio {
  cursor: pointer;
}

label.radio input {
  position: absolute;
  top: 0; 
  left: 0;
  visibility: hidden;
  pointer-events: none;
}

label.radio span {
  padding: 4px 0px;
  border: 1px solid red;
  display: inline-block;
  color: red;
  width: 100px;
  text-align: center;
  border-radius: 3px;
  margin-top: 7px;
  text-transform: uppercase;
}

label.radio input:checked + span {
  border-color: red;
  background-color: red;
  color: #fff;
}

.ans {
  margin-left: 36px !important;
}

.btn:focus {
  outline: 0 !important;
  box-shadow: none !important;
}

.btn:active {
  outline: 0 !important;
  box-shadow: none !important;
}


.qbtn {
  margin-top: 40px;

}
  </style>
</head>
<body>

  <div class="container">
    <div class="row">
      <table class="table">
        <thead>
          <tr align="center">
            <th colspan="3">
              <h3>
                Quiz Assignment (Repeator Student)
              </h3>
            
            </th>
          </tr>
          <tr>
            <th>Name</th>
            <th >Roll No </th>
            <th >section</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Waris</td>
            <td>201420</td>
            <td>B</td>
          </tr>
        
        </tbody>
      </table>
    </div>
  </div>

  <div class="container mt-5">
    <div class="d-flex justify-content-center row">
        <div class="col-md-10 col-lg-10">
            <div class="border">

              <h1 class="text-center" >Quiz App</h1>
              <div id="start-container" align="center" class="qbtn" > 
                <button class="btn btn-primary text-center"  onclick="startQuiz()">Start Quiz</button>
              </div>


              <div id="quiz-container">

                <div class="question bg-white p-3 border-bottom">c
                    <div class="d-flex flex-row justify-content-between align-items-center mcq">
                        <h4>MCQ Quiz</h4><span>(5 of 20)</span></div>
                </div>
                <div class="question bg-white p-3 border-bottom">
                    <div class="d-flex flex-row align-items-center question-title">
                        <h3 class="text-danger">Q.</h3>
                        <h5 class="mt-1 ml-2" id="question1"></h5>
                    </div>
                    <div class="ans ml-2" id="options1">
                   
              </div>   
            </div>
        
                <div class="d-flex flex-row justify-content-between align-items-center p-3 bg-white"><button class="btn btn-primary d-flex align-items-center btn-danger" type="button"><i class="fa fa-angle-left mt-1 mr-1"></i>&nbsp;previous</button><button class="btn btn-primary border-success align-items-center btn-success" type="button"  onclick="nextQuestion()" >Next<i class="fa fa-angle-right ml-2"></i></button></div>
              </div>
              </div>
              </div>


        </div>
    </div>
</div>







  <script>
    let currentQuestionIndex = 0;
    let questions = [];

    async function startQuiz() {
      // Fetch questions from the Open Trivia Database API
      const response = await fetch('https://opentdb.com/api.php?amount=5&type=multiple');
      const data = await response.json();
        console.log(data);
      if (data.results) {
        questions = data.results;
        showQuestion();
        document.getElementById('start-container').style.display = 'none';
        document.getElementById('quiz-container').style.display = 'block';
      } else {
        alert('Failed to fetch questions. Please try again.');
      }
    }

    function showQuestion() {
      const currentQuestion = questions[currentQuestionIndex];
      const questionElement = document.getElementById('question1');
      const optionsElement = document.getElementById('options1');

      questionElement.innerHTML = currentQuestion.question;
      optionsElement.innerHTML = '';

      currentQuestion.incorrect_answers.forEach((option, index) => {
        optionsElement.innerHTML += `
        <div class="form-check">
            <label class="radio"> <input type="radio" name="options" id="option${index}" value="${option}"> <span>  ${option}</span>
                </label>  

              </div>
          
        `;
      });

      optionsElement.innerHTML += `
        <div class="form-check">
          <input  class="radio" type="radio" name="options" id="option${currentQuestion.incorrect_answers.length}" value="${currentQuestion.correct_answer}">
          <label class="radio" for="option${currentQuestion.incorrect_answers.length}">
            <span> ${currentQuestion.correct_answer}</span>
          </label>
        </div>
      `;
    }

    function nextQuestion() {
      const selectedOption = document.querySelector('input[name="options"]:checked');

      if (!selectedOption) {
        alert('Please select an option');
        return;
      }

      const userAnswer = selectedOption.value;
      const correctAnswer = questions[currentQuestionIndex].correct_answer;

      if (userAnswer === correctAnswer) {
        alert('Correct!');
      } else {
        alert(`Incorrect. The correct answer is: ${correctAnswer}`);
      }

      currentQuestionIndex++;

      if (currentQuestionIndex < questions.length) {
        showQuestion();
      } else {
        alert('Quiz completed!');
        resetQuiz();
      }
    }

    function resetQuiz() {
      currentQuestionIndex = 0;
      questions = [];
      document.getElementById('start-container').style.display = 'block';
      document.getElementById('quiz-container').style.display = 'none';
    }
  </script>

</body>
</html>
